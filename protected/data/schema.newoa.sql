CREATE TABLE IF NOT EXISTS user(
  id BIGINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT '',
  first_name VARCHAR(20) NOT NULL COMMENT '',
  last_name VARCHAR(20) NOT NULL COMMENT '',
  email VARCHAR(64) NOT NULL COMMENT '',
  password VARCHAR(32) NOT NULL COMMENT '',
  birth_day DATETIME NOT NULL COMMENT '',
  gender TINYINT UNSIGNED NOT NULL COMMENT '',
  mobile VARCHAR(20) NOT NULL COMMENT '',
  country VARCHAR(20) NOT NULL COMMENT '',
  alternate_email VARCHAR(64) NOT NULL COMMENT ''
);


-- 仓库维护产品
CREATE TABLE IF NOT EXISTS product(
  id int PRIMARY KEY AUTO_INCREMENT ,
  title VARCHAR(10) NOT NULL ,
  sku VARCHAR(10) NOT NULL UNIQUE ,
  format VARCHAR(100) COMMENT ''
);

-- 线上维护产品
CREATE TABLE IF NOT EXISTS item(
  id INT PRIMARY KEY AUTO_INCREMENT,
  sku VARCHAR(32) NOT NULL COMMENT ''
);

-- 线上产品关联仓库产品
CREATE TABLE IF NOT EXISTS item_product(
  item_id INT,
  product_id int,
  num int
);

-- 产品发布平台店铺对应线上产品
CREATE TABLE IF NOT EXISTS item_platform(
  platform_id int,
  store_id int,
  item_id int,
  sku VARCHAR(10)
);
-- 订单表
CREATE TABLE IF NOT EXISTS orders(
  order_id int,
  payment_info VARCHAR(100)
);
-- 订单包含线上产品
CREATE TABLE IF NOT EXISTS order_item(
  order_id int,
  item_id int,
  sku int,
  num int
);

-- 仓库表


CREATE TABLE IF NOT EXISTS platform(
  id TINYINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT '平台编号',
  name VARCHAR(16) UNIQUE NOT NULL COMMENT '平台名称',
  status TINYINT UNSIGNED NOT NULL DEFAULT 1 COMMENT ''
);

CREATE TABLE IF NOT EXISTS amazon_platform_config(
  id VARCHAR(32) NOT NULL PRIMARY KEY COMMENT '市场编号',
  name VARCHAR(32) NOT NULL COMMENT '市场名称',
  short CHAR(2) NOT NULL COMMENT '市场名称简称',
  service VARCHAR(128) NOT NULL COMMENT '服务地址',
  status TINYINT UNSIGNED NOT NULL DEFAULT 1 COMMENT ''
);

CREATE TABLE IF NOT EXISTS store(
  id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT '',
  name VARCHAR(32) NOT NULL COMMENT '店铺名称',
  platform_id TINYINT UNSIGNED NOT NULL COMMENT '平台编号',
  status TINYINT UNSIGNED NOT NULL DEFAULT 1 COMMENT '店铺状态'
);

CREATE TABLE IF NOT EXISTS amazon_store_marketplace(
  id INT UNSIGNED NOT NULL COMMENT '',
  marketplace_id VARCHAR(32) NOT NULL COMMENT 'MARKETPLACE_ID',
  PRIMARY KEY (id,marketplace_id),
  FOREIGN KEY marketplace_id_fk(marketplace_id)REFERENCES amazon_marketplace(id)
);

CREATE TABLE IF NOT EXISTS amazon_store_config(
  id INT UNSIGNED NOT NULL PRIMARY KEY COMMENT '',
  merchant_id VARCHAR(16) NOT NULL COMMENT 'MERCHANT_ID',
  aws_key VARCHAR(32) NOT NULL COMMENT 'AWS_ACCESS_KEY_ID',
  aws_secret VARCHAR(64) NOT NULL COMMENT 'AWS_SECRET_ACCESS_KEY',
  name VARCHAR(32) NOT NULL COMMENT 'APPLICATION_NAME',
  version VARCHAR(32) NOT NULL DEFAULT 'V1.0.0' COMMENT 'APPLICATION_VERSION',
  user_id BIGINT UNSIGNED NOT NULL COMMENT '',
  FOREIGN KEY user_id_fk(user_id) REFERENCES user(id),
  FOREIGN KEY id_fk(id) REFERENCES store(id)
);


























